<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <title>重点项目督查月度报告</title>
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.min.css">
</head>

<body>
    <div class="container">
        <!-- header srart -->
        <div class="header">
            <h1 class="title">重点项目督查月度报告</h1>
            <p class="date font-number" id="date-time">0000-00-00 00:00:00</p>
        </div>
        <!-- header over -->
        <!-- main start -->
        <div class="main">
            <!-- block start -->
            <div class="block">
                <div class="item">
                    <img class="background" src="img/block-1.png">
                    <div class="text">
                        <p class="name">在建项目总数</p>
                        <p class="number font-number">175235</p>
                    </div>
                </div>
                <div class="item">
                    <img class="background" src="img/block-2.png">
                    <div class="text">
                        <p class="name">在建项目总数</p>
                        <p class="number font-number">175235</p>
                    </div>
                </div>
                <div class="item">
                    <img class="background" src="img/block-3.png">
                    <div class="text">
                        <p class="name">在建项目总数</p>
                        <p class="number font-number">175235</p>
                    </div>
                </div>
            </div>
            <!-- block over -->
            <div class="bottom-box">
                <!-- left start -->
                <div class="left">
                    <h4 class="title">在建项目统计</h4>
                    <div class="progress-box">
                        <div class="item">
                            <p class="name">跃龙街道</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:100%"></div>
                            </div>
                            <p class="number font-number">386</p>
                        </div>
                        <div class="item">
                            <p class="name">长街镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:90%"></div>
                            </div>
                            <p class="number font-number">310</p>
                        </div>
                        <div class="item">
                            <p class="name">西店镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:80%"></div>
                            </div>
                            <p class="number font-number">207</p>
                        </div>
                        <div class="item">
                            <p class="name">力洋镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:70%"></div>
                            </div>
                            <p class="number font-number">178</p>
                        </div>
                        <div class="item">
                            <p class="name">深甽镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:60%"></div>
                            </div>
                            <p class="number font-number">161</p>
                        </div>
                        <div class="item">
                            <p class="name">桃源街道</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:50%"></div>
                            </div>
                            <p class="number font-number">154</p>
                        </div>
                        <div class="item">
                            <p class="name">岔路镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:40%"></div>
                            </div>
                            <p class="number font-number">152</p>
                        </div>
                        <div class="item">
                            <p class="name">黄坛镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:30%"></div>
                            </div>
                            <p class="number font-number">142</p>
                        </div>
                        <div class="item">
                            <p class="name">一市镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:20%"></div>
                            </div>
                            <p class="number font-number">115</p>
                        </div>
                        <div class="item">
                            <p class="name">前童镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:10%"></div>
                            </div>
                            <p class="number font-number">112</p>
                        </div>
                        <div class="item">
                            <p class="name">桑洲镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:9%"></div>
                            </div>
                            <p class="number font-number">109</p>
                        </div>
                        <div class="item">
                            <p class="name">胡陈乡</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:8%"></div>
                            </div>
                            <p class="number font-number">108</p>
                        </div>
                        <div class="item">
                            <p class="name">茶院乡</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:7%"></div>
                            </div>
                            <p class="number font-number">103</p>
                        </div>
                        <div class="item">
                            <p class="name">梅林街道</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:6%"></div>
                            </div>
                            <p class="number font-number">90</p>
                        </div>
                        <div class="item">
                            <p class="name">桥头胡街道</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:5%"></div>
                            </div>
                            <p class="number font-number">89</p>
                        </div>
                        <div class="item">
                            <p class="name">越溪乡</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:4%"></div>
                            </div>
                            <p class="number font-number">86</p>
                        </div>
                        <div class="item">
                            <p class="name">大佳何镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:2%"></div>
                            </div>
                            <p class="number font-number">69</p>
                        </div>
                        <div class="item">
                            <p class="name">强蛟镇</p>
                            <div class="progress">
                                <div class="progress-bar" style="width:0%"></div>
                            </div>
                            <p class="number font-number">68</p>
                        </div>
                    </div>
                </div>
                <!-- left over -->
                <!-- middle start -->
                <div class="middle">
                    <div class="echarts" id="chart-1"></div>
                    <div class="echarts" id="chart-2"></div>
                </div>
                <!-- middle over -->
                <!-- map start -->
                <div class="right">
                    <div class="echarts" id="chart-3"></div>
                </div>
                <!-- map over -->
            </div>

        </div>
        <!-- main over -->
    </div>
    <!-- jQuery -->
    <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
    <!-- echarts -->
    <script src="js/jquery-resize/jquery.ba-resize.min.js"></script>
    <script src="js/echarts/echarts.min.js"></script>
    <script type="text/javascript">
        // 日期时间
        function dateTime() {
            var today = new Date();
            var date;
            date = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate() + " " + today.toLocaleTimeString('chinese',{hour12:false});
            document.getElementById("date-time").innerHTML = date;
        }
        setInterval(dateTime, 1000);
        //获取屏幕宽度并计算比例
        function fontSize(res){
            let docEl = document.documentElement,
            clientWidth = window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;
            if (!clientWidth) return;
            let fontSize = 100 * (clientWidth / 1920);
            return res*fontSize;
        }
        // chart
        var chart1 = echarts.init(document.getElementById('chart-1'));
        var option1 = {
            color: ['#d2287f','#efb72b', '#5dccb5', '#8624bf', '#0c69b1'],
            title: {
                text: '进度',
                x: 'center',
                y: '37%',
                textStyle : {
                    color : '#35b2f6',
                    fontSize : fontSize(0.32),
                    fontWeight : 'normal'
                }
            },
            legend: {
                x: 'center',
                bottom: 20,
                itemWidth: 10,
                itemHeight: 10,
                padding: 0,
                textStyle: {
                    color: '#fff',
                    fontSize : fontSize(0.16)
                },
                data:['已完工','部分完工','未完工']
            },
            tooltip: {
                confine: true,
                backgroundColor: 'rgba(6,21,78,0.9)',
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            series: [{
                name: '进度',
                type: 'pie',
                radius: ['45%', '70%'],
                center: ['50%', '44%'],
                label: {
                    show: false
                },
                labelLine: {
                    show: false
                },
                data: [{
                        name: '已完工',
                        value: 335
                    },
                    {
                        name: '部分完工',
                        value: 310
                    },
                    {
                        name: '未完工',
                        value: 234
                    }
                ]
            }]
        };
        chart1.setOption(option1)

        var chart2 = echarts.init(document.getElementById('chart-2'));
        var option2 = {
            color: ['#d2287f','#efb72b', '#5dccb5', '#8624bf', '#0c69b1'],
            title: {
                text: '类型',
                x: 'center',
                y: '37%',
                textStyle : {
                    color : '#35b2f6',
                    fontSize : fontSize(0.32),
                    fontWeight : 'normal'
                }
            },
            legend: {
                x: 'center',
                y: 'bottom',
                itemWidth: 10,
                itemHeight: 10,
                textStyle: {
                    color: '#fff',
                    fontSize : fontSize(0.16)
                },
                data:['水利设施','教育事业','交通运输','环保整治','医疗卫生']
            },
            tooltip: {
                confine: true,
                backgroundColor: 'rgba(6,21,78,0.9)',
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            series: [{
                name: '类型',
                type: 'pie',
                radius: ['45%', '70%'],
                center: ['50%', '44%'],
                label: {
                    show: false
                },
                labelLine: {
                    show: false
                },
                data: [{
                        name: '水利设施',
                        value: 335
                    },
                    {
                        name: '教育事业',
                        value: 310
                    },
                    {
                        name: '交通运输',
                        value: 234
                    },
                    {
                        name: '环保整治',
                        value: 310
                    },
                    {
                        name: '医疗卫生',
                        value: 234
                    }
                ]
            }]
        };
        chart2.setOption(option2);

        // echarts 容器尺寸变化时刷新图表尺寸
        $(".echarts").resize(function() {
            chart1.resize();
            chart2.resize();
        });

        // 地图
        $.ajax({
            type: 'GET',
            url: 'js/echarts/map/ninghai.json',
            dataType: 'JSON',
            success: function(ninghaiJson) {
                echarts.registerMap('ninghai', ninghaiJson);
                var chart3 = echarts.init(document.getElementById('chart-3'));
                var option = {
                    tooltip: {
                        trigger: 'item',
                        position: 'top',
                        backgroundColor: 'rgba(6,21,78,0.9)',
                        formatter: function(params) {
                            var res = '<p style="font-weight: bold; text-align:center;border-bottom:1px solid rgba(255,255,255,.2);padding-bottom: 5px;margin-bottom: 5px;">' + params.name + '</p>';
                            var myseries = option.series;
                            for(var i = 0; i < myseries.length; i++){
                                for(var k = 0; k < myseries[i].data.length; k++){
                                    if(myseries[i].data[k].name == params.name){
                                        res += '<span style="display:inline-block;width:65px;text-align:right;margin-right:8px;">' + myseries[i].name + '</span>' + '<span style="padding-right: 8px;">' + myseries[i].data[k].value + '</span>' + '<br />';
                                    }
                                }
                            }
                            return res;
                        }
                    },
                    visualMap: {
                        show: false,
                        min: 0,
                        max: 168,
                        inRange: {
                            color: ['#55b3fe', '#35a4fc', '#1c8ced', '#2f86fd']
                        }
                    },
                    series: [
                        {
                            name: '已完工',
                            type: 'map',
                            map: 'ninghai',
                            zoom: '1.08',
                            aspectScale: '1',
                            label: {
                                show: true,
                                color: '#fff',
                                fontSize : fontSize(0.18),
                                textShadowColor: '#081b46',
                                textShadowBlur: '3'
                            },
                            itemStyle: {
                                normal: {
                                    areaColor: "#f0f3f4",
                                    borderColor: "#ffffff",
                                    borderWidth: 1
                                },
                                emphasis: {
                                    areaColor: "#c5deff",
                                    borderColor: "#ffffff",
                                    borderWidth: 1,
                                    label: {
                                        color: '#081d46',
                                        textShadowColor: '#ffffff',
                                        textShadowBlur: '3'
                                    }
                                }
                            },
                            data: [
                                {name: '强蛟镇', value: 0},
                                {name: '一市镇', value: 8},
                                {name: '力洋镇', value: 18},
                                {name: '长街镇', value: 28},
                                {name: '越溪乡', value: 38},
                                {name: '西店镇', value: 48},
                                {name: '桑洲镇', value: 58},
                                {name: '岔路镇', value: 68},
                                {name: '前童镇', value: 78},
                                {name: '跃龙街道', value: 88},
                                {name: '黄坛镇',value: 98},
                                {name: '桃源街道', value: 108},
                                {name: '茶院乡', value: 118},
                                {name: '胡陈乡', value: 128},
                                {name: '梅林街道', value: 138},
                                {name: '桥头胡街道', value: 148},
                                {name: '大佳何镇', value: 158},
                                {name: '深甽镇', value: 168}
                            ]
                        }, {
                            name: '部分完工',
                            type: 'map',
                            data: [
                                {name: '强蛟镇', value: 0},
                                {name: '一市镇', value: 1},
                                {name: '力洋镇', value: 2},
                                {name: '长街镇', value: 3},
                                {name: '越溪乡', value: 4},
                                {name: '西店镇', value: 5},
                                {name: '桑洲镇', value: 6},
                                {name: '岔路镇', value: 7},
                                {name: '前童镇', value: 8},
                                {name: '跃龙街道', value: 9},
                                {name: '黄坛镇',value: 10},
                                {name: '桃源街道', value: 11},
                                {name: '茶院乡', value: 12},
                                {name: '胡陈乡', value: 13},
                                {name: '梅林街道', value: 14},
                                {name: '桥头胡街道', value: 15},
                                {name: '大佳何镇', value: 16},
                                {name: '深甽镇', value: 17}
                            ]
                        }, {
                            name: '未完工',
                            type: 'map',
                            data: [
                                {name: '强蛟镇', value: 168},
                                {name: '一市镇', value: 158},
                                {name: '力洋镇', value: 148},
                                {name: '长街镇', value: 138},
                                {name: '越溪乡', value: 128},
                                {name: '西店镇', value: 118},
                                {name: '桑洲镇', value: 108},
                                {name: '岔路镇', value: 98},
                                {name: '前童镇', value: 88},
                                {name: '跃龙街道', value: 78},
                                {name: '黄坛镇',value: 68},
                                {name: '桃源街道', value: 58},
                                {name: '茶院乡', value: 48},
                                {name: '胡陈乡', value: 38},
                                {name: '梅林街道', value: 28},
                                {name: '桥头胡街道', value: 18},
                                {name: '大佳何镇', value: 8},
                                {name: '深甽镇', value: 0}
                            ]
                        }
                    ]
                }
                chart3.setOption(option);
                // echarts 容器尺寸变化时刷新图表尺寸
                $(".echarts").resize(function() {
                    chart3.resize();
                });
            }
        });
    </script>
</body>

</html>
